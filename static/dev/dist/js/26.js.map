{"version":3,"sources":["webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?b461","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?5e29","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?6742","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?1931","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?7ef4","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?a8ab","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?3844","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?4888","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./src/constants/manage.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?4e03","webpack:///src/pages/admin/manage/SourceEdit/PackageEdit.vue","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?55bd","webpack:///src/pages/admin/manage/SourceEdit/PackageForm.vue"],"names":["__webpack_require__","r","__webpack_exports__","_PackageForm_vue_vue_type_template_id_3d27365f_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_PackageForm_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageForm_vue_vue_type_style_index_0_id_3d27365f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageEdit_vue_vue_type_style_index_0_id_45c03970_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","id","attrs","source-index","value","on","updateSource","deleteSource","$event","_v","click","onCreateSource","_s","i18n","addPackage","theme","onNextStepClick","nextStep","to","cancel","staticRenderFns","class","fold","isSettingPanelShow","onTogglePanelShow","sourceName","name","noName","size","onDeleteSource","delete","errorMsg","_e","directives","rawName","expression","error-border","errors","first","type","disabled","isEditing","domProps","blur","onPackageNameBlur","input","target","composing","modifiers","top","popover-width","searchable","selected","onTypeSelect","model","callback","$$v","option","desc","rows","onPackageDescBlur","detail","field","details","placeholder","onDetailInputBlur","$set","module","subModule","version","importModule","operation","onPackageInputBlur","importPlaceholder","default-color","isShowDelete","onDeletePackage","modulesOptName","onAddPackage","add","required","_PackageEdit_vue_vue_type_template_id_45c03970_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_PackageEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","exports","default","__esModule","anObject","get","getIterator","it","iterFn","TypeError","call","_isIterable3","_interopRequireDefault","_getIterator3","obj","arr","i","Array","isArray","_arr","_n","_d","_i","next","done","push","length","err","SOURCE_TYPE","gettext","keys","repo_address","repo_raw_address","branch","service_address","bucket","access_key","secret_key","path","classof","ITERATOR","Iterators","isIterable","O","hasOwnProperty","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","components","PackageForm","_PackageForm2","props","originList","data","list","_tools2","deepClone","watch","val","methods","packages","_this","packageValidations","$children","filter","$options","map","comp","validate","_promise2","all","then","results","every","$router","splice","$emit","source","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageForm_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageForm_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","_manage","_index","sourceIndex","Number","getSourceTypeList","_value","packageValues","getPackageValues","_getSourceKeys","getSourceKeys","detailFields","_slicedToArray3","showError","showModuleError","packageNameRule","max","STRING_LENGTH","SOURCE_NAME_MAX_LENGTH","regex","PACKAGE_NAME_REG","valueRule","computed","detailValues","find","values","_stringify2","modules","pkg","join","getPackages","forEach","split","updateValue","$validator","validateAll","result","_this2","_getSourceKeys3","_getSourceKeys4","_keys2","e"],"mappings":"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","file":"dev/dist/js/26.js","sourcesContent":["import { render, staticRenderFns } from \"./PackageForm.vue?vue&type=template&id=3d27365f&scoped=true&\"\nimport script from \"./PackageForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PackageForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PackageForm.vue?vue&type=style&index=0&id=3d27365f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d27365f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=style&index=0&id=3d27365f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=style&index=0&id=3d27365f&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=style&index=0&id=45c03970&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=style&index=0&id=45c03970&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"package-edit\"},[_c('div',{staticClass:\"source-centent\"},[_vm._l((_vm.list),function(item,index){return [_c('package-form',{key:item.id,attrs:{\"source-index\":index,\"value\":item},on:{\"updateSource\":_vm.updateSource,\"deleteSource\":function($event){return _vm.deleteSource(index)}}})]}),_vm._v(\" \"),_c('div',{staticClass:\"add-package\",on:{\"click\":_vm.onCreateSource}},[_vm._v(_vm._s(_vm.i18n.addPackage))])],2),_vm._v(\" \"),_c('div',{staticClass:\"operate-area\"},[_c('bk-button',{staticClass:\"next-step\",attrs:{\"theme\":\"success\"},on:{\"click\":_vm.onNextStepClick}},[_vm._v(\"\\n            \"+_vm._s(_vm.i18n.nextStep)+\"\\n        \")]),_vm._v(\" \"),_c('router-link',{staticClass:\"bk-button bk-default\",attrs:{\"to\":\"/admin/manage/source_manage/\"}},[_vm._v(_vm._s(_vm.i18n.cancel))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=template&id=45c03970&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"package-form\"},[_c('div',{staticClass:\"form-header\"},[_c('div',{class:['title', { 'fold': !_vm.isSettingPanelShow }],on:{\"click\":_vm.onTogglePanelShow}},[_vm._v(\"\\n            \"+_vm._s(_vm.i18n.sourceName)+\": \"+_vm._s(_vm.name || _vm.i18n.noName)+\"\\n        \")]),_vm._v(\" \"),_c('bk-button',{staticClass:\"delete-btn\",attrs:{\"theme\":\"default\",\"size\":\"small\"},on:{\"click\":_vm.onDeleteSource}},[_vm._v(\"\\n            \"+_vm._s(_vm.i18n.delete)+\"\\n        \")]),_vm._v(\" \"),(_vm.showError)?_c('div',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.i18n.errorMsg))]):_vm._e()],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSettingPanelShow),expression:\"isSettingPanelShow\"}],staticClass:\"package-setting\"},[_c('table',{staticClass:\"form-table\"},[_c('tbody',[_c('tr',[_c('th',[_c('div',{staticClass:\"form-label required\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.name))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"form-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.packageNameRule),expression:\"packageNameRule\"}],staticClass:\"package-name\",class:{ 'error-border': _vm.errors.first('packageName') },attrs:{\"type\":\"text\",\"name\":\"packageName\",\"disabled\":_vm.isEditing},domProps:{\"value\":(_vm.name)},on:{\"blur\":_vm.onPackageNameBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.errors.first('packageName')),expression:\"errors.first('packageName')\",modifiers:{\"top\":true}}],staticClass:\"common-icon-info common-error-tip\"})])])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label required\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.type))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"form-content\"},[_c('bk-select',{staticClass:\"bk-select-inline\",attrs:{\"disabled\":_vm.isEditing,\"popover-width\":260,\"searchable\":true},on:{\"selected\":_vm.onTypeSelect},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.list),function(option,index){return _c('bk-option',{key:index,attrs:{\"id\":option.id,\"name\":option.name}})}),1)],1)])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.desc))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"form-content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"package-desc\",attrs:{\"rows\":\"4\"},domProps:{\"value\":(_vm.desc)},on:{\"blur\":_vm.onPackageDescBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.desc=$event.target.value}}})])])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.detail))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('table',{staticClass:\"detail-table\"},[_c('tbody',_vm._l((_vm.detailFields),function(field){return _c('tr',{key:field.id},[_c('th',[_vm._v(_vm._s(field.name))]),_vm._v(\" \"),_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('detailValue' + field.id) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.details[field.id]),expression:\"details[field.id]\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.valueRule),expression:\"valueRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'detailValue' + field.id,\"placeholder\":field.placeholder},domProps:{\"value\":(_vm.details[field.id])},on:{\"blur\":function($event){return _vm.onDetailInputBlur(field.id)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.details, field.id, $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"common-icon-info common-error-tip\"})])])}),0)])])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.module))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"module-table-wrapper\"},[_c('table',{staticClass:\"module-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.i18n.subModule))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.i18n.version))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.i18n.importModule))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.i18n.operation))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.packageValues),function(item,index){return _c('tr',{key:index},[_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('moduleName' + index) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.key),expression:\"item.key\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.packageNameRule),expression:\"packageNameRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'moduleName' + index,\"placeholder\":_vm.i18n.placeholder},domProps:{\"value\":(item.key)},on:{\"blur\":function($event){return _vm.onPackageInputBlur($event, 'key', index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"key\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"common-icon-info common-error-tip\"})]),_vm._v(\" \"),_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('moduleVersion' + index) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.version),expression:\"item.version\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.valueRule),expression:\"valueRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'moduleVersion' + index,\"placeholder\":_vm.i18n.placeholder},domProps:{\"value\":(item.version)},on:{\"blur\":function($event){return _vm.onPackageInputBlur($event, 'version', index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"version\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"common-icon-info common-error-tip\"})]),_vm._v(\" \"),_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('modules' + index) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.modules),expression:\"item.modules\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.valueRule),expression:\"valueRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'modules' + index,\"placeholder\":_vm.i18n.importPlaceholder},domProps:{\"value\":(item.modules)},on:{\"blur\":function($event){return _vm.onPackageInputBlur($event, 'modules', index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"modules\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"common-icon-info common-error-tip\"})]),_vm._v(\" \"),_c('td',[_c('bk-button',{staticClass:\"delete-btn\",class:{ 'default-color': !_vm.isShowDelete },attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.onDeletePackage(index)}}},[_vm._v(\"\\n                                                \"+_vm._s(_vm.modulesOptName)+\"\\n                                            \")])],1)])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"add-module\"},[_c('bk-button',{staticClass:\"add-btn\",attrs:{\"theme\":\"default\",\"size\":\"small\"},on:{\"click\":_vm.onAddPackage}},[_vm._v(_vm._s(_vm.i18n.add))])],1),_vm._v(\" \"),(_vm.showModuleError)?_c('div',{staticClass:\"common-error-tip error-msg\"},[_vm._v(_vm._s(_vm.i18n.required))]):_vm._e()])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=template&id=3d27365f&scoped=true&\"","import { render, staticRenderFns } from \"./PackageEdit.vue?vue&type=template&id=45c03970&scoped=true&\"\nimport script from \"./PackageEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./PackageEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PackageEdit.vue?vue&type=style&index=0&id=45c03970&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45c03970\",\n  null\n  \n)\n\nexport default component.exports","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2020 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n\r\n// 包源类型\r\nconst SOURCE_TYPE = [\r\n    {\r\n        type: 'git',\r\n        name: gettext('GIT'),\r\n        keys: {\r\n            repo_address: {\r\n                name: gettext('仓库链接'),\r\n                placeholder: gettext('请输入 GIT 仓库地址，如 https://github.com/bk-sops/plugins_example.git')\r\n            },\r\n            repo_raw_address: {\r\n                name: gettext('文件托管仓库链接'),\r\n                placeholder: gettext('请输入仓库中文件的 Raw 链接的前缀，如 https://raw.githubusercontent.com/bk-sops/plugins_example/')\r\n            },\r\n            branch: {\r\n                name: gettext('分支名'),\r\n                placeholder: gettext('请输入分支名')\r\n            }\r\n        }\r\n    },\r\n    {\r\n        type: 's3',\r\n        name: gettext('S3'),\r\n        keys: {\r\n            service_address: {\r\n                name: gettext('对象存储服务地址'),\r\n                placeholder: gettext('请输入')\r\n            },\r\n            bucket: {\r\n                name: gettext('Bucket'),\r\n                placeholder: gettext('请输入')\r\n            },\r\n            access_key: {\r\n                name: gettext('Access Key'),\r\n                placeholder: gettext('请输入')\r\n            },\r\n            secret_key: {\r\n                name: gettext('Secret Key'),\r\n                placeholder: gettext('请输入')\r\n            }\r\n        }\r\n    },\r\n    {\r\n        type: 'fs',\r\n        name: gettext('文件系统'),\r\n        keys: {\r\n            path: {\r\n                name: gettext('服务器文件系统路径'),\r\n                placeholder: gettext('请输入')\r\n            }\r\n        }\r\n    }\r\n]\r\n\r\nexport { SOURCE_TYPE }\r\n","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=script&lang=js&\"","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2020 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n<template>\r\n    <div class=\"package-edit\">\r\n        <div class=\"source-centent\">\r\n            <template v-for=\"(item, index) in list\">\r\n                <package-form\r\n                    :key=\"item.id\"\r\n                    :source-index=\"index\"\r\n                    :value=\"item\"\r\n                    @updateSource=\"updateSource\"\r\n                    @deleteSource=\"deleteSource(index)\">\r\n                </package-form>\r\n            </template>\r\n            <div class=\"add-package\" @click=\"onCreateSource\">{{i18n.addPackage}}</div>\r\n        </div>\r\n        <div class=\"operate-area\">\r\n            <bk-button\r\n                theme=\"success\"\r\n                class=\"next-step\"\r\n                @click=\"onNextStepClick\">\r\n                {{ i18n.nextStep }}\r\n            </bk-button>\r\n            <router-link to=\"/admin/manage/source_manage/\" class=\"bk-button bk-default\">{{ i18n.cancel }}</router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import '@/utils/i18n.js'\r\n    import tools from '@/utils/tools.js'\r\n    import PackageForm from './PackageForm.vue'\r\n\r\n    export default {\r\n        name: 'PackageEdit',\r\n        components: {\r\n            PackageForm\r\n        },\r\n        props: {\r\n            originList: {\r\n                type: Array,\r\n                default () {\r\n                    return []\r\n                }\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                list: tools.deepClone(this.originList),\r\n                i18n: {\r\n                    nextStep: gettext('下一步'),\r\n                    cancel: gettext('取消'),\r\n                    addPackage: gettext('添加主包源')\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            originList (val) {\r\n                this.list = tools.deepClone(val)\r\n            }\r\n        },\r\n        methods: {\r\n            onCreateSource () {\r\n                this.list.push({\r\n                    id: undefined,\r\n                    name: '',\r\n                    desc: '',\r\n                    type: 'git',\r\n                    packages: {},\r\n                    details: {\r\n                        repo_address: '',\r\n                        repo_raw_address: '',\r\n                        branch: ''\r\n                    }\r\n                })\r\n            },\r\n            onNextStepClick () {\r\n                const packageComps = this.$children.filter(item => item.$options.name === 'PackageForm')\r\n                const packageValidations = packageComps.map(comp => {\r\n                    return comp.validate()\r\n                })\r\n                Promise.all(packageValidations).then(results => {\r\n                    if (results.every(item => item)) {\r\n                        this.$router.push('/admin/manage/source_edit/cache_edit/')\r\n                    }\r\n                })\r\n            },\r\n            deleteSource (index) {\r\n                this.list.splice(index, 1)\r\n                this.$emit('updateList', 'originList', this.list)\r\n            },\r\n            updateSource (key, value, index) {\r\n                const val = tools.deepClone(value)\r\n                const source = tools.deepClone(this.list[index])\r\n                source[key] = val\r\n                this.list.splice(index, 1, source)\r\n                this.$emit('updateList', 'originList', this.list)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .package-edit {\r\n        height: calc(100% - 40px);\r\n        background: #ffffff;\r\n    }\r\n    .source-centent {\r\n        padding: 30px 60px 60px;\r\n        min-height: 100%;\r\n        background: #ffffff;\r\n    }\r\n    .add-package {\r\n        margin-bottom: 60px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        color: #c4c6cc;\r\n        font-size: 12px;\r\n        text-align: center;\r\n        border: 1px dashed #c4c6cc;\r\n        border-radius: 2px;\r\n        cursor: pointer;\r\n        &:hover {\r\n            color: #3a84ff;\r\n            border-color: #a3c5fd;\r\n        }\r\n    }\r\n    .operate-area {\r\n        margin-top: -60px;\r\n        padding: 0 60px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        border-top: 1px solid #cacedb;\r\n        .bk-button {\r\n            height: 32px;\r\n            line-height: 32px;\r\n            &:not(:last-child) {\r\n                margin-right: 6px;\r\n            }\r\n        }\r\n        .next-step {\r\n            width: 140px;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=script&lang=js&\"","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2020 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n<template>\r\n    <div class=\"package-form\">\r\n        <div class=\"form-header\">\r\n            <div\r\n                :class=\"['title', { 'fold': !isSettingPanelShow }]\"\r\n                @click=\"onTogglePanelShow\">\r\n                {{i18n.sourceName}}: {{ name || i18n.noName }}\r\n            </div>\r\n            <bk-button\r\n                theme=\"default\"\r\n                size=\"small\"\r\n                class=\"delete-btn\"\r\n                @click=\"onDeleteSource\">\r\n                {{i18n.delete}}\r\n            </bk-button>\r\n            <div class=\"error-msg\" v-if=\"showError\">{{i18n.errorMsg}}</div>\r\n        </div>\r\n        <div class=\"package-setting\" v-show=\"isSettingPanelShow\">\r\n            <table class=\"form-table\">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label required\">\r\n                                <label>{{i18n.name}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"form-content\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    class=\"package-name\"\r\n                                    name=\"packageName\"\r\n                                    v-model=\"name\"\r\n                                    v-validate=\"packageNameRule\"\r\n                                    :disabled=\"isEditing\"\r\n                                    :class=\"{ 'error-border': errors.first('packageName') }\"\r\n                                    @blur=\"onPackageNameBlur\">\r\n                                <i class=\"common-icon-info common-error-tip\" v-bk-tooltips.top=\"errors.first('packageName')\"></i>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label required\">\r\n                                <label>{{i18n.type}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"form-content\">\r\n                                <bk-select\r\n                                    v-model=\"type\"\r\n                                    class=\"bk-select-inline\"\r\n                                    :disabled=\"isEditing\"\r\n                                    :popover-width=\"260\"\r\n                                    :searchable=\"true\"\r\n                                    @selected=\"onTypeSelect\">\r\n                                    <bk-option\r\n                                        v-for=\"(option, index) in list\"\r\n                                        :key=\"index\"\r\n                                        :id=\"option.id\"\r\n                                        :name=\"option.name\">\r\n                                    </bk-option>\r\n                                </bk-select>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label\">\r\n                                <label>{{i18n.desc}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"form-content\">\r\n                                <textarea\r\n                                    rows=\"4\"\r\n                                    class=\"package-desc\"\r\n                                    v-model=\"desc\"\r\n                                    @blur=\"onPackageDescBlur\">\r\n                                </textarea>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label\">\r\n                                <label>{{i18n.detail}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <table class=\"detail-table\">\r\n                                <tbody>\r\n                                    <tr v-for=\"field in detailFields\" :key=\"field.id\">\r\n                                        <th>{{field.name}}</th>\r\n                                        <td class=\"td-with-input\"\r\n                                            :class=\"{ 'error-border': errors.first('detailValue' + field.id) }\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                class=\"table-input\"\r\n                                                :name=\"'detailValue' + field.id\"\r\n                                                :placeholder=\"field.placeholder\"\r\n                                                v-model=\"details[field.id]\"\r\n                                                v-validate=\"valueRule\"\r\n                                                @blur=\"onDetailInputBlur(field.id)\">\r\n                                            <i class=\"common-icon-info common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label\">\r\n                                <label>{{i18n.module}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"module-table-wrapper\">\r\n                                <table class=\"module-table\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>{{i18n.subModule}}</th>\r\n                                            <th>{{i18n.version}}</th>\r\n                                            <th>{{i18n.importModule}}</th>\r\n                                            <th>{{i18n.operation}}</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for=\"(item, index) in packageValues\" :key=\"index\">\r\n                                            <td\r\n                                                :class=\"{ 'error-border': errors.first('moduleName' + index) }\"\r\n                                                class=\"td-with-input\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    class=\"table-input\"\r\n                                                    :name=\"'moduleName' + index\"\r\n                                                    :placeholder=\"i18n.placeholder\"\r\n                                                    v-model=\"item.key\"\r\n                                                    v-validate=\"packageNameRule\"\r\n                                                    @blur=\"onPackageInputBlur($event, 'key', index)\">\r\n                                                <i class=\"common-icon-info common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                            </td>\r\n                                            <td\r\n                                                :class=\"{ 'error-border': errors.first('moduleVersion' + index) }\"\r\n                                                class=\"td-with-input\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    class=\"table-input\"\r\n                                                    :name=\"'moduleVersion' + index\"\r\n                                                    :placeholder=\"i18n.placeholder\"\r\n                                                    v-model=\"item.version\"\r\n                                                    v-validate=\"valueRule\"\r\n                                                    @blur=\"onPackageInputBlur($event, 'version', index)\">\r\n                                                <i class=\"common-icon-info common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                            </td>\r\n                                            <td\r\n                                                :class=\"{ 'error-border': errors.first('modules' + index) }\"\r\n                                                class=\"td-with-input\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    class=\"table-input\"\r\n                                                    :name=\"'modules' + index\"\r\n                                                    :placeholder=\"i18n.importPlaceholder\"\r\n                                                    v-model=\"item.modules\"\r\n                                                    v-validate=\"valueRule\"\r\n                                                    @blur=\"onPackageInputBlur($event, 'modules', index)\">\r\n                                                <i class=\"common-icon-info common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                            </td>\r\n                                            <td>\r\n                                                <bk-button\r\n                                                    size=\"small\"\r\n                                                    class=\"delete-btn\"\r\n                                                    :class=\"{ 'default-color': !isShowDelete }\"\r\n                                                    @click=\"onDeletePackage(index)\">\r\n                                                    {{ modulesOptName }}\r\n                                                </bk-button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div class=\"add-module\">\r\n                                    <bk-button theme=\"default\" size=\"small\" class=\"add-btn\" @click=\"onAddPackage\">{{i18n.add}}</bk-button>\r\n                                </div>\r\n                                <div v-if=\"showModuleError\" class=\"common-error-tip error-msg\">{{i18n.required}}</div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import '@/utils/i18n.js'\r\n    import { SOURCE_TYPE } from '@/constants/manage.js'\r\n    import { PACKAGE_NAME_REG, STRING_LENGTH } from '@/constants/index.js'\r\n\r\n    export default {\r\n        name: 'PackageForm',\r\n        props: {\r\n            value: {\r\n                type: Object,\r\n                default () {\r\n                    return {\r\n                        id: undefined,\r\n                        name: '',\r\n                        type: 'git',\r\n                        desc: '',\r\n                        details: {\r\n                            repo_address: '',\r\n                            repo_raw_address: '',\r\n                            branch: ''\r\n                        },\r\n                        packages: {}\r\n                    }\r\n                }\r\n            },\r\n            sourceIndex: {\r\n                type: Number,\r\n                default: 0\r\n            }\r\n        },\r\n        data () {\r\n            const list = this.getSourceTypeList()\r\n            const { name, type, desc, details, packages } = this.value\r\n            const packageValues = this.getPackageValues(packages)\r\n            const [detailFields] = this.getSourceKeys(type)\r\n            return {\r\n                name,\r\n                type,\r\n                desc,\r\n                details,\r\n                packages,\r\n                list,\r\n                detailFields,\r\n                packageValues,\r\n                isSettingPanelShow: true,\r\n                showError: false, // 包源配置错误\r\n                showModuleError: false, // 模块配置错误\r\n                packageNameRule: { // 名称校验规则\r\n                    required: true,\r\n                    max: STRING_LENGTH.SOURCE_NAME_MAX_LENGTH,\r\n                    regex: PACKAGE_NAME_REG\r\n                },\r\n                valueRule: {\r\n                    required: true\r\n                },\r\n                i18n: {\r\n                    sourceName: gettext('包源名'),\r\n                    noName: gettext('未命名'),\r\n                    delete: gettext('删除'),\r\n                    name: gettext('名称'),\r\n                    type: gettext('类型'),\r\n                    desc: gettext('描述'),\r\n                    detail: gettext('详细信息'),\r\n                    module: gettext('模块配置'),\r\n                    placeholder: gettext('请输入'),\r\n                    importPlaceholder: gettext('请输入模块绝对路径，如a.b.c，多个用,分隔'),\r\n                    subModule: gettext('根模块'),\r\n                    version: gettext('版本'),\r\n                    importModule: gettext('导入模块'),\r\n                    operation: gettext('操作'),\r\n                    add: gettext('添加'),\r\n                    errorMsg: gettext('输入有误，请展开检查'),\r\n                    required: gettext('必填项')\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            isEditing () {\r\n                return typeof this.value.id === 'number'\r\n            },\r\n            isShowDelete () {\r\n                return this.packageValues && this.packageValues.length > 1\r\n            },\r\n            modulesOptName () {\r\n                return this.isShowDelete ? this.i18n.delete : '--'\r\n            }\r\n        },\r\n        methods: {\r\n            getSourceTypeList () {\r\n                return SOURCE_TYPE.map(item => {\r\n                    return {\r\n                        id: item.type,\r\n                        name: item.name\r\n                    }\r\n                })\r\n            },\r\n            getSourceKeys (type) {\r\n                const detailFields = []\r\n                const detailValues = {}\r\n\r\n                const source = SOURCE_TYPE.find(item => item.type === type)\r\n                for (const key in source.keys) {\r\n                    detailFields.push({\r\n                        id: key,\r\n                        name: source.keys[key].name,\r\n                        placeholder: source.keys[key].placeholder\r\n                    })\r\n                    detailValues[key] = ''\r\n                }\r\n\r\n                return [detailFields, detailValues]\r\n            },\r\n            /**\r\n             * packages 的值由对象转为数组 packageValues\r\n             */\r\n            getPackageValues (packages) {\r\n                const values = []\r\n                if (JSON.stringify(packages) === '{}') {\r\n                    values.push({\r\n                        key: '',\r\n                        version: '',\r\n                        modules: ''\r\n                    })\r\n                }\r\n                for (const key in packages) {\r\n                    const pkg = packages[key]\r\n                    values.push({\r\n                        key: key,\r\n                        version: pkg.version,\r\n                        modules: Array.isArray(pkg.modules) ? pkg.modules.join(',') : pkg.modules\r\n                    })\r\n                }\r\n                return values\r\n            },\r\n            /**\r\n             * packageValues 的值由数组转为对象 packages\r\n             */\r\n            getPackages () {\r\n                const packages = {}\r\n                this.packageValues.forEach(item => {\r\n                    if (item.key) {\r\n                        packages[item.key] = {\r\n                            version: item.version,\r\n                            modules: Array.isArray(item.modules) ? item.modules : item.modules.split(',')\r\n                        }\r\n                    }\r\n                })\r\n                return packages\r\n            },\r\n            updateValue (key, val) {\r\n                this.$emit('updateSource', key, val, this.sourceIndex)\r\n            },\r\n            validate () {\r\n                return this.$validator.validateAll().then(result => {\r\n                    if (this.packageValues.length === 0) {\r\n                        this.showModuleError = true\r\n                    }\r\n                    return result && !this.showModuleError\r\n                })\r\n            },\r\n            onTogglePanelShow () {\r\n                this.isSettingPanelShow = !this.isSettingPanelShow\r\n                if (!this.isSettingPanelShow) {\r\n                    this.validate().then(result => {\r\n                        if (!result) {\r\n                            this.showError = true\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.showError = false\r\n                }\r\n            },\r\n            onTypeSelect (type) {\r\n                this.type = type;\r\n                [this.detailFields, this.details] = this.getSourceKeys(type)\r\n                this.updateValue('type', this.type)\r\n                this.updateValue('details', this.details)\r\n            },\r\n            onAddPackage () {\r\n                this.packageValues.push({\r\n                    key: '',\r\n                    version: '',\r\n                    modules: []\r\n                })\r\n                this.showModuleError = false\r\n            },\r\n            /**\r\n             * 删除模块配置（只有一条时不显示删除按钮）\r\n             */\r\n            onDeletePackage (index) {\r\n                if (!this.isShowDelete) return\r\n                this.packageValues.splice(index, 1)\r\n                const packages = this.getPackages()\r\n                this.updateValue('packages', packages)\r\n                if (Object.keys(packages).length === 0) {\r\n                    this.showModuleError = true\r\n                }\r\n            },\r\n            onPackageNameBlur () {\r\n                this.updateValue('name', this.name)\r\n            },\r\n            onPackageDescBlur () {\r\n                this.updateValue('desc', this.desc)\r\n            },\r\n            onDetailInputBlur (field) {\r\n                this.updateValue('details', this.details)\r\n            },\r\n            onPackageInputBlur (e, type, index) {\r\n                const val = e.target.value\r\n                this.packageValues[index][type] = val\r\n                const packages = this.getPackages()\r\n                this.updateValue('packages', packages)\r\n            },\r\n            onDeleteSource () {\r\n                this.$emit('deleteSource')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import '@/scss/mixins/input-error.scss';\r\n    /deep/ .bk-select {\r\n        background-color: #ffffff;\r\n        &.is-disabled {\r\n            background-color: #fafafa;\r\n        }\r\n    }\r\n    .package-form {\r\n        margin-bottom: 30px;\r\n        background: #f0f1f5;\r\n        border-radius: 2px;\r\n    }\r\n    .form-header {\r\n        position: relative;\r\n        padding: 20px 20px 15px;\r\n        .title {\r\n            display: inline-block;\r\n            position: relative;\r\n            padding-left: 20px;\r\n            font-size: 14px;\r\n            font-weight: 700;\r\n            max-width: 300px;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            vertical-align: middle;\r\n            cursor: pointer;\r\n            &:hover {\r\n                color: #3a84ff;\r\n                &:before {\r\n                    border-color: #3a84ff transparent transparent transparent;\r\n                }\r\n            }\r\n            &.fold {\r\n                &:before {\r\n                    top: 7px;\r\n                    transform: rotate(-90deg);\r\n                }\r\n            }\r\n            &:before {\r\n                content: '';\r\n                position: absolute;\r\n                top: 8px;\r\n                left: 2px;\r\n                width: 0;\r\n                height: 0;\r\n                border-style: solid;\r\n                border-width: 6px 5px 0 5px;\r\n                border-color: #cccccc transparent transparent transparent;\r\n                transition: transform 0.3s ease-in-out;\r\n            }\r\n        }\r\n        .delete-btn {\r\n            position: absolute;\r\n            top: 22px;\r\n            right: 20px;\r\n            font-size: 12px;\r\n        }\r\n        .error-msg {\r\n            position: absolute;\r\n            top: 25px;\r\n            left: 350px;\r\n            font-size: 14px;\r\n            line-height: 1;\r\n            color: #ff5757;\r\n        }\r\n    }\r\n    .delete-btn,\r\n    .add-btn {\r\n        padding: 0;\r\n        background: transparent;\r\n        border: none;\r\n        color: #3a84ff;\r\n        height: auto;\r\n        line-height: initial;\r\n    }\r\n    .default-color {\r\n        color: #313238;\r\n    }\r\n    .package-setting {\r\n        padding: 0 20px 20px;\r\n    }\r\n    .form-table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        font-size: 14px;\r\n        th, td {\r\n            padding: 10px;\r\n        }\r\n        th {\r\n            position: relative;\r\n            width: 16%;\r\n            color: #313238;\r\n            font-weight: 400;\r\n        }\r\n        .form-label {\r\n            padding-right: 20%;\r\n            text-align: right;\r\n            label {\r\n                position: relative;\r\n            }\r\n            &.required {\r\n                label:after {\r\n                    content: '*';\r\n                    position: absolute;\r\n                    top: 1px;\r\n                    right: -10px;\r\n                    color: #F00;\r\n                    font-family: \"SimSun\";\r\n                }\r\n            }\r\n\r\n        }\r\n        .td-with-input {\r\n            &:hover{\r\n                border-style: double;\r\n                border-color: #3c96ff;\r\n            }\r\n            @include common-input-error;\r\n        }\r\n        .form-content {\r\n            position: relative;\r\n            width: 40%;\r\n        }\r\n        .package-name {\r\n            padding: 0 10px;\r\n            width: 100%;\r\n            height: 32px;\r\n            line-height: 32px;\r\n            border: 1px solid #c3cdd7;\r\n            border-radius: 2px;\r\n            color: #63656e;\r\n            outline: none;\r\n            &:hover {\r\n                border-color: #3c96ff;\r\n            }\r\n            &:active {\r\n                border-color: #3c96ff;\r\n            }\r\n            &[disabled=\"disabled\"] {\r\n                color: #aaa;\r\n                cursor: not-allowed;\r\n                background: #fafafa;\r\n                &:hover {\r\n                    border-color: #c3cdd7;\r\n                }\r\n            }\r\n            @include common-input-error;\r\n        }\r\n        .package-desc {\r\n            display: block;\r\n            padding: 10px;\r\n            width: 100%;\r\n            border: 1px solid #c3cdd7;\r\n            border-radius: 2px;\r\n            color: #63656e;\r\n            outline: none;\r\n            resize: vertical;\r\n            min-height: 102px;\r\n            max-height: 140px;\r\n            &:hover {\r\n                border-color: #3c96ff;\r\n            }\r\n            &:active {\r\n                border-color: #3c96ff;\r\n            }\r\n        }\r\n    }\r\n    .detail-table {\r\n        width: 100%;\r\n        font-size: 12px;\r\n        border-collapse: collapse;\r\n        background: #ffffff;\r\n        th,td {\r\n            position: relative;\r\n            padding: 10px 20px;\r\n            border: 1px solid #dde4eb;\r\n        }\r\n        th {\r\n            width: 30%;\r\n            font-weight: 700;\r\n            text-align: center;\r\n        }\r\n    }\r\n    .module-table-wrapper {\r\n        position: relative;\r\n    }\r\n    .module-table {\r\n        width: 100%;\r\n        font-size: 12px;\r\n        border-collapse: collapse;\r\n        background: #ffffff;\r\n        text-align: center;\r\n        th,td {\r\n            position: relative;\r\n            padding: 10px 20px;\r\n            border: 1px solid #dde4eb;\r\n        }\r\n        th {\r\n            font-weight: 700;\r\n            text-align: center;\r\n            &:nth-child(1),\r\n            &:nth-child(2),\r\n            &:nth-child(4) {\r\n                width: 16.66%;\r\n            }\r\n            &:nth-child(3) {\r\n                width: 50%;\r\n            }\r\n        }\r\n        input[aria-invalid=\"true\"] + .common-error-tip {\r\n            display: inline-block;\r\n        }\r\n        .common-error-tip {\r\n            display: none;\r\n            bottom: 0;\r\n        }\r\n        tbody {\r\n            td {\r\n                padding: 10px 20px;\r\n            }\r\n        }\r\n    }\r\n    .detail-table, .module-table {\r\n        .td-with-input {\r\n            &:hover{\r\n                border-style: double;\r\n                border-color: #3c96ff;\r\n            }\r\n            @include common-input-error;\r\n        }\r\n\r\n    }\r\n    .table-input {\r\n        width: 100%;\r\n        color: #333333;\r\n        border: none;\r\n        outline: none;\r\n    }\r\n    .add-module {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        font-size: 12px;\r\n        text-align: center;\r\n        color: #3a84ff;\r\n        background: #ffffff;\r\n        border: 1px solid #dde4eb;\r\n        border-top: none;\r\n    }\r\n</style>\r\n"],"sourceRoot":""}